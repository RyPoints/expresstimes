{"ast":null,"code":"import _slicedToArray from \"/Users/ryandavis/Development/reactapp/expresstimes/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ryandavis/Development/reactapp/expresstimes/src/post.js\";\nimport './styles.css';\nimport olddata from './olddata';\nimport lodash from 'lodash';\nimport ReactHtmlParser from 'react-html-parser';\nimport { Icon } from 'antd';\nimport 'antd/dist/antd.css';\nimport HomeHeader from './HomeHeader';\nimport PostHeader from './PostHeader';\nimport { render } from 'react-dom';\nimport { Grid, Slug, Fade } from 'mauerwerk';\nimport React, { Component, Fragment } from 'react';\nimport { BrowserRouter, Router, Route, Switch, Link } from 'react-router-dom';\n\nfunction readKey(file) {\n  var fs = require('fs');\n\n  try {\n    var string = fs.readFileSync(file, 'utf8');\n    return string;\n  } catch (e) {\n    console.log('Error:', e.stack);\n  }\n}\n\nconst inputParsers = {\n  date(input) {\n    const _input$split = input.split('/'),\n          _input$split2 = _slicedToArray(_input$split, 3),\n          month = _input$split2[0],\n          day = _input$split2[1],\n          year = _input$split2[2];\n\n    return `${year}-${month}-${day}`;\n  },\n\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n\n  number(input) {\n    return parseFloat(input);\n  }\n\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const form = event.target;\n    const data = new FormData(form);\n\n    for (let name of data.keys()) {\n      const input = form.elements[name];\n      const parserName = input.dataset.parse;\n\n      if (parserName) {\n        const parser = inputParsers[parserName];\n        const parsedValue = parser(data.get(name));\n        data.set(name, parsedValue);\n      }\n    }\n\n    fetch('/api/form-submit-url', {\n      method: 'POST',\n      body: data\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      id: \"paper\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Article title\", React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      \"data-parse\": \"uppercase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      placeholder: \"Enter your article text.\",\n      id: \"text\",\n      name: \"text\",\n      rows: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Send data!\"));\n  }\n\n}\n\nexport default PostScreen;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/src/post.js"],"names":["olddata","lodash","ReactHtmlParser","Icon","HomeHeader","PostHeader","render","Grid","Slug","Fade","React","Component","Fragment","BrowserRouter","Router","Route","Switch","Link","readKey","file","fs","require","string","readFileSync","e","console","log","stack","inputParsers","date","input","split","month","day","year","uppercase","toUpperCase","number","parseFloat","PostScreen","constructor","handleSubmit","bind","event","preventDefault","form","target","data","FormData","name","keys","elements","parserName","dataset","parse","parser","parsedValue","get","set","fetch","method","body"],"mappings":"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","sourcesContent":["import './styles.css'\nimport olddata from './olddata'\nimport lodash from 'lodash'\nimport ReactHtmlParser from 'react-html-parser'; \nimport { Icon } from 'antd'\nimport 'antd/dist/antd.css'\nimport HomeHeader from './HomeHeader'\nimport PostHeader from './PostHeader'\nimport { render } from 'react-dom'\nimport { Grid, Slug, Fade } from 'mauerwerk'\nimport React, { Component, Fragment } from 'react'\nimport { BrowserRouter, Router, Route, Switch, Link } from 'react-router-dom';\n\nfunction readKey(file) {\n\tvar fs = require('fs');\n\ttry {\n\t\tvar string = fs.readFileSync(file, 'utf8');\n\t\treturn string;\n\t} catch(e) {\n\tconsole.log('Error:', e.stack);\n\t}\n}\n\nconst inputParsers = {\n  date(input) {\n    const [month, day, year] = input.split('/');\n    return `${year}-${month}-${day}`;\n  },\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n  number(input) {\n    return parseFloat(input);\n  },\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const form = event.target;\n    const data = new FormData(form);\n\n    for (let name of data.keys()) {\n      const input = form.elements[name];\n      const parserName = input.dataset.parse;\n\n      if (parserName) {\n        const parser = inputParsers[parserName];\n        const parsedValue = parser(data.get(name));\n        data.set(name, parsedValue);\n      }\n    }\n    \n    fetch('/api/form-submit-url', {\n      method: 'POST',\n      body: data,\n    });\n  }\n\n  render() {\n    return (\n      <form id=\"paper\" onSubmit={this.handleSubmit}>\n        <p>\n        Article title\n        <input\n          name=\"username\"\n          type=\"text\"\n          data-parse=\"uppercase\"\n        />\n        </p>\n        <p>\n      \n        <textarea placeholder=\"Enter your article text.\" id=\"text\" name=\"text\" rows=\"4\" ></textarea> \n        </p>\n\n\n        <button>Send data!</button>\n      </form>\n    );\n  }\n\n}\n\nexport default PostScreen"]},"metadata":{},"sourceType":"module"}