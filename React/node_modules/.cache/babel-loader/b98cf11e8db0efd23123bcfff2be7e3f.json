{"ast":null,"code":"import _slicedToArray from \"/Users/ryandavis/Development/reactapp/expresstimes/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ryandavis/Development/reactapp/expresstimes/src/post.js\";\nimport './styles.css';\nimport 'antd/dist/antd.css';\nimport React, { Component, Fragment } from 'react';\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd';\n\nfunction readKey(file) {\n  var fs = require('fs');\n\n  try {\n    var string = fs.readFileSync(file, 'utf8');\n    return string;\n  } catch (e) {\n    console.log('Error:', e.stack);\n  }\n}\n\nconst inputParsers = {\n  date(input) {\n    const _input$split = input.split('/'),\n          _input$split2 = _slicedToArray(_input$split, 3),\n          month = _input$split2[0],\n          day = _input$split2[1],\n          year = _input$split2[2];\n\n    return `${year}-${month}-${day}`;\n  },\n\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n\n  number(input) {\n    return parseFloat(input);\n  }\n\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n\n    this.handleTitleChange = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.handleArticleChange = e => {\n      this.setState({\n        article: e.target.value\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      article: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleArticleChange = this.handleArticleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    fetch('https://lhk56kti7b.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"title\": this.state.title,\n        \"article\": this.state.article\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.ok) {\n        const history = this.props.history;\n        history.push(\"/articles\");\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      id: \"paper\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Article title\", React.createElement(\"input\", {\n      name: \"title\",\n      type: \"text\",\n      \"data-parse\": \"uppercase\",\n      onChange: this.handleTitleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      placeholder: \"Enter your article text.\",\n      id: \"text\",\n      name: \"article\",\n      rows: \"4\",\n      onChange: this.handleArticleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Add Article\"));\n  }\n\n}\n\nexport default PostScreen;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/src/post.js"],"names":["React","Component","Fragment","Button","Icon","Input","Dropdown","Menu","readKey","file","fs","require","string","readFileSync","e","console","log","stack","inputParsers","date","input","split","month","day","year","uppercase","toUpperCase","number","parseFloat","PostScreen","constructor","handleTitleChange","setState","title","target","value","handleArticleChange","article","state","handleSubmit","bind","event","preventDefault","fetch","method","body","JSON","stringify","headers","then","response","ok","history","props","push","render"],"mappings":"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","sourcesContent":["import './styles.css'\nimport 'antd/dist/antd.css'\nimport React, { Component, Fragment } from 'react'\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd'\n\nfunction readKey(file) {\n\tvar fs = require('fs');\n\ttry {\n\t\tvar string = fs.readFileSync(file, 'utf8');\n\t\treturn string;\n\t} catch(e) {\n\tconsole.log('Error:', e.stack);\n\t}\n}\n\nconst inputParsers = {\n  date(input) {\n    const [month, day, year] = input.split('/');\n    return `${year}-${month}-${day}`;\n  },\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n  number(input) {\n    return parseFloat(input);\n  },\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"\",\n      article: \"\"\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this)\n    this.handleArticleChange = this.handleArticleChange.bind(this)\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n   \n    fetch('https://lhk56kti7b.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({\"title\": this.state.title, \"article\": this.state.article}),\n      headers: {'Content-Type': 'application/json'}\n      })\n      .then(response => {\n        console.log(response);\n        if (response.ok) { \n          const { history } = this.props;\n          history.push(\"/articles\");\n        }\n\n    });\n    \n  }\n\n  handleTitleChange = (e) => {\n    this.setState({title: e.target.value});\n}\n\nhandleArticleChange = (e) => {\n    this.setState({article: e.target.value});\n}\n\n  render() {\n    return (\n      <form id=\"paper\" onSubmit={this.handleSubmit}>\n        <p>\n        Article title\n        <input\n          name=\"title\"\n          type=\"text\"\n          data-parse=\"uppercase\"\n          onChange={this.handleTitleChange}\n        />\n        </p>\n        <p>\n      \n        <textarea placeholder=\"Enter your article text.\" id=\"text\" name=\"article\" rows=\"4\" onChange={this.handleArticleChange}></textarea> \n        </p>\n\n\n        <Button type=\"primary\" onClick={this.handleSubmit}>\n        Add Article\n      </Button>\n      </form>\n    );\n  }\n\n}\n\nexport default PostScreen"]},"metadata":{},"sourceType":"module"}