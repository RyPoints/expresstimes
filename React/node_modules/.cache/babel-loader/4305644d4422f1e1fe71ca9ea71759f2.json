{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\nimport * as base64 from \"../util/base64\";\nimport { Constants } from \"../util/constants\";\nvar HeaderConstants = Constants.HeaderConstants;\nvar DEFAULT_AUTHORIZATION_SCHEME = \"Basic\";\n\nvar BasicAuthenticationCredentials =\n/** @class */\nfunction () {\n  /**\n   * Creates a new BasicAuthenticationCredentials object.\n   *\n   * @constructor\n   * @param {string} userName User name.\n   * @param {string} password Password.\n   * @param {string} [authorizationScheme] The authorization scheme.\n   */\n  function BasicAuthenticationCredentials(userName, password, authorizationScheme) {\n    if (authorizationScheme === void 0) {\n      authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n    }\n\n    this.authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n\n    if (userName === null || userName === undefined || typeof userName.valueOf() !== \"string\") {\n      throw new Error(\"userName cannot be null or undefined and must be of type string.\");\n    }\n\n    if (password === null || password === undefined || typeof password.valueOf() !== \"string\") {\n      throw new Error(\"password cannot be null or undefined and must be of type string.\");\n    }\n\n    this.userName = userName;\n    this.password = password;\n    this.authorizationScheme = authorizationScheme;\n  }\n  /**\n   * Signs a request with the Authentication header.\n   *\n   * @param {WebResource} webResource The WebResource to be signed.\n   * @returns {Promise<WebResource>} The signed request object.\n   */\n\n\n  BasicAuthenticationCredentials.prototype.signRequest = function (webResource) {\n    var credentials = this.userName + \":\" + this.password;\n    var encodedCredentials = this.authorizationScheme + \" \" + base64.encodeString(credentials);\n    if (!webResource.headers) webResource.headers = new HttpHeaders();\n    webResource.headers.set(HeaderConstants.AUTHORIZATION, encodedCredentials);\n    return Promise.resolve(webResource);\n  };\n\n  return BasicAuthenticationCredentials;\n}();\n\nexport { BasicAuthenticationCredentials };","map":{"version":3,"sources":["../../../lib/credentials/basicAuthenticationCredentials.ts"],"names":[],"mappings":"AAAA;AACA;AAEA,SAAS,WAAT,QAA4B,gBAA5B;AACA,OAAO,KAAK,MAAZ,MAAwB,gBAAxB;AACA,SAAS,SAAT,QAA0B,mBAA1B;AAGA,IAAM,eAAe,GAAG,SAAS,CAAC,eAAlC;AACA,IAAM,4BAA4B,GAAG,OAArC;;AAEA,IAAA,8BAAA;AAAA;AAAA,YAAA;AAKE;;;;;;;;AAQA,WAAA,8BAAA,CAAY,QAAZ,EAA8B,QAA9B,EAAgD,mBAAhD,EAA0G;AAA1D,QAAA,mBAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,mBAAA,GAAA,4BAAA;AAA0D;;AAV1G,SAAA,mBAAA,GAA8B,4BAA9B;;AAWE,QAAI,QAAQ,KAAK,IAAb,IAAqB,QAAQ,KAAK,SAAlC,IAA+C,OAAO,QAAQ,CAAC,OAAT,EAAP,KAA8B,QAAjF,EAA2F;AACzF,YAAM,IAAI,KAAJ,CAAU,kEAAV,CAAN;AACD;;AACD,QAAI,QAAQ,KAAK,IAAb,IAAqB,QAAQ,KAAK,SAAlC,IAA+C,OAAO,QAAQ,CAAC,OAAT,EAAP,KAA8B,QAAjF,EAA2F;AACzF,YAAM,IAAI,KAAJ,CAAU,kEAAV,CAAN;AACD;;AACD,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,mBAAL,GAA2B,mBAA3B;AACD;AAED;;;;;;;;AAMA,EAAA,8BAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,WAAZ,EAAoC;AAClC,QAAM,WAAW,GAAM,KAAK,QAAL,GAAa,GAAb,GAAiB,KAAK,QAA7C;AACA,QAAM,kBAAkB,GAAM,KAAK,mBAAL,GAAwB,GAAxB,GAA4B,MAAM,CAAC,YAAP,CAAoB,WAApB,CAA1D;AACA,QAAI,CAAC,WAAW,CAAC,OAAjB,EAA0B,WAAW,CAAC,OAAZ,GAAsB,IAAI,WAAJ,EAAtB;AAC1B,IAAA,WAAW,CAAC,OAAZ,CAAoB,GAApB,CAAwB,eAAe,CAAC,aAAxC,EAAuD,kBAAvD;AACA,WAAO,OAAO,CAAC,OAAR,CAAgB,WAAhB,CAAP;AACD,GAND;;AAOF,SAAA,8BAAA;AAAC,CAtCD,EAAA","sourceRoot":"","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders } from \"../httpHeaders\";\nimport * as base64 from \"../util/base64\";\nimport { Constants } from \"../util/constants\";\nvar HeaderConstants = Constants.HeaderConstants;\nvar DEFAULT_AUTHORIZATION_SCHEME = \"Basic\";\nvar BasicAuthenticationCredentials = /** @class */ (function () {\n    /**\n     * Creates a new BasicAuthenticationCredentials object.\n     *\n     * @constructor\n     * @param {string} userName User name.\n     * @param {string} password Password.\n     * @param {string} [authorizationScheme] The authorization scheme.\n     */\n    function BasicAuthenticationCredentials(userName, password, authorizationScheme) {\n        if (authorizationScheme === void 0) { authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME; }\n        this.authorizationScheme = DEFAULT_AUTHORIZATION_SCHEME;\n        if (userName === null || userName === undefined || typeof userName.valueOf() !== \"string\") {\n            throw new Error(\"userName cannot be null or undefined and must be of type string.\");\n        }\n        if (password === null || password === undefined || typeof password.valueOf() !== \"string\") {\n            throw new Error(\"password cannot be null or undefined and must be of type string.\");\n        }\n        this.userName = userName;\n        this.password = password;\n        this.authorizationScheme = authorizationScheme;\n    }\n    /**\n     * Signs a request with the Authentication header.\n     *\n     * @param {WebResource} webResource The WebResource to be signed.\n     * @returns {Promise<WebResource>} The signed request object.\n     */\n    BasicAuthenticationCredentials.prototype.signRequest = function (webResource) {\n        var credentials = this.userName + \":\" + this.password;\n        var encodedCredentials = this.authorizationScheme + \" \" + base64.encodeString(credentials);\n        if (!webResource.headers)\n            webResource.headers = new HttpHeaders();\n        webResource.headers.set(HeaderConstants.AUTHORIZATION, encodedCredentials);\n        return Promise.resolve(webResource);\n    };\n    return BasicAuthenticationCredentials;\n}());\nexport { BasicAuthenticationCredentials };\n//# sourceMappingURL=basicAuthenticationCredentials.js.map"]},"metadata":{},"sourceType":"module"}