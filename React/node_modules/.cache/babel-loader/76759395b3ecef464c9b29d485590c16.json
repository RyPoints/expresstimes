{"ast":null,"code":"import _classCallCheck from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/inherits\";import'./styles.css';import'antd/dist/antd.css';import React,{Component,Fragment}from'react';import{Button,Icon,Input,Dropdown,Menu}from'antd';import TextareaAutosize from'react-textarea-autosize';var PostScreen=/*#__PURE__*/function(_Component){_inherits(PostScreen,_Component);function PostScreen(){var _this;_classCallCheck(this,PostScreen);_this=_possibleConstructorReturn(this,_getPrototypeOf(PostScreen).call(this));_this.handleTitleChange=function(e){_this.setState({title:e.target.value});};_this.handleArticleChange=function(e){_this.setState({article:e.target.value});};_this.state={title:\"\",article:\"\"};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleTitleChange=_this.handleTitleChange.bind(_assertThisInitialized(_this));_this.handleArticleChange=_this.handleArticleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(PostScreen,[{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var div=document.createElement(\"div\");div.innerText=this.state.article;console.log(div.innerHTML);fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post',{method:'POST',body:JSON.stringify({\"title\":this.state.title,\"article\":div.innerHTML}),headers:{'Content-Type':'application/json'}}).then(function(response){console.log(response);if(response.ok){var history=_this2.props.history;history.push(\"/articles\");//Refresh so we load the new content\nwindow.location.reload(false);}});}},{key:\"render\",value:function render(){return React.createElement(\"form\",{id:\"paper\",onSubmit:this.handleSubmit},React.createElement(\"p\",null,React.createElement(\"div\",{id:\"namer\"},React.createElement(\"div\",{id:\"namer-input\"},React.createElement(\"input\",{type:\"text\",name:\"namername\",placeholder:\"Enter your article's title.\",\"data-parse\":\"uppercase\",onChange:this.handleTitleChange})))),React.createElement(\"p\",null,React.createElement(\"div\",null,React.createElement(TextareaAutosize,{placeholder:\"Enter your article's text.\",id:\"text\",name:\"article\",rows:\"4\",onChange:this.handleArticleChange}))),React.createElement(Button,{type:\"secondary\",onClick:this.handleSubmit},\"Add Article\"));}}]);return PostScreen;}(Component);export default PostScreen;","map":{"version":3,"sources":["/Users/ryandavis/Development/expresstimes/React/src/post.js"],"names":["React","Component","Fragment","Button","Icon","Input","Dropdown","Menu","TextareaAutosize","PostScreen","handleTitleChange","e","setState","title","target","value","handleArticleChange","article","state","handleSubmit","bind","event","preventDefault","div","document","createElement","innerText","console","log","innerHTML","fetch","method","body","JSON","stringify","headers","then","response","ok","history","props","push","window","location","reload"],"mappings":"0yBAAA,MAAO,cAAP,CACA,MAAO,oBAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,QAA9B,CAAwCC,IAAxC,KAAoD,MAApD,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yBAA7B,C,GAEMC,CAAAA,U,oEACJ,qBAAc,4CACZ,8EADY,MAmCdC,iBAnCc,CAmCM,SAACC,CAAD,CAAO,CACzB,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAEF,CAAC,CAACG,MAAF,CAASC,KAAlB,CAAd,EACD,CArCa,OAuCdC,mBAvCc,CAuCQ,SAACL,CAAD,CAAO,CAC3B,MAAKC,QAAL,CAAc,CAAEK,OAAO,CAAEN,CAAC,CAACG,MAAF,CAASC,KAApB,CAAd,EACD,CAzCa,CAEZ,MAAKG,KAAL,CAAa,CACXL,KAAK,CAAE,EADI,CAEXI,OAAO,CAAE,EAFE,CAAb,CAIA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKV,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBU,IAAvB,+BAAzB,CACA,MAAKJ,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBI,IAAzB,+BAA3B,CARY,aASb,C,yEAEYC,K,CAAO,iBAClBA,KAAK,CAACC,cAAN,GAEA,GAAIC,CAAAA,GAAG,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV,CACAF,GAAG,CAACG,SAAJ,CAAgB,KAAKR,KAAL,CAAWD,OAA3B,CACAU,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACM,SAAhB,EACAC,KAAK,CAAC,oEAAD,CAAuE,CAC1EC,MAAM,CAAE,MADkE,CAE1EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAE,QAAS,KAAKhB,KAAL,CAAWL,KAAtB,CAA6B,UAAWU,GAAG,CAACM,SAA5C,CAAf,CAFoE,CAG1EM,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHiE,CAAvE,CAAL,CAKGC,IALH,CAKQ,SAAAC,QAAQ,CAAI,CAChBV,OAAO,CAACC,GAAR,CAAYS,QAAZ,EACA,GAAIA,QAAQ,CAACC,EAAb,CAAiB,IACPC,CAAAA,OADO,CACK,MAAI,CAACC,KADV,CACPD,OADO,CAEfA,OAAO,CAACE,IAAR,CAAa,WAAb,EACA;AACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACD,CAEF,CAdH,EAgBD,C,uCAUQ,CACP,MACE,6BAAM,EAAE,CAAC,OAAT,CAAiB,QAAQ,CAAE,KAAKzB,YAAhC,EACE,6BACE,2BAAK,EAAE,CAAC,OAAR,EACE,2BAAK,EAAE,CAAC,aAAR,EACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,WAAW,CAAC,6BAAhD,CAA8E,aAAW,WAAzF,CAAqG,QAAQ,CAAE,KAAKT,iBAApH,EADF,CADF,CADF,CADF,CAQE,6BACE,+BACE,oBAAC,gBAAD,EAAkB,WAAW,CAAC,4BAA9B,CAA2D,EAAE,CAAC,MAA9D,CAAqE,IAAI,CAAC,SAA1E,CAAoF,IAAI,CAAC,GAAzF,CAA6F,QAAQ,CAAE,KAAKM,mBAA5G,EADF,CADF,CARF,CAcE,oBAAC,MAAD,EAAQ,IAAI,CAAC,WAAb,CAAyB,OAAO,CAAE,KAAKG,YAAvC,gBAdF,CADF,CAqBD,C,wBAlEsBlB,S,EAqEzB,cAAeQ,CAAAA,UAAf","sourcesContent":["import './styles.css'\nimport 'antd/dist/antd.css'\nimport React, { Component, Fragment } from 'react'\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd'\nimport TextareaAutosize from 'react-textarea-autosize';\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"\",\n      article: \"\"\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this)\n    this.handleArticleChange = this.handleArticleChange.bind(this)\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    var div = document.createElement(\"div\");\n    div.innerText = this.state.article;\n    console.log(div.innerHTML);\n    fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({ \"title\": this.state.title, \"article\": div.innerHTML }),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(response => {\n        console.log(response);\n        if (response.ok) {\n          const { history } = this.props;\n          history.push(\"/articles\");\n          //Refresh so we load the new content\n          window.location.reload(false)\n        }\n\n      });\n\n  }\n\n  handleTitleChange = (e) => {\n    this.setState({ title: e.target.value });\n  }\n\n  handleArticleChange = (e) => {\n    this.setState({ article: e.target.value });\n  }\n\n  render() {\n    return (\n      <form id=\"paper\" onSubmit={this.handleSubmit}>\n        <p>\n          <div id=\"namer\">\n            <div id=\"namer-input\">\n              <input type=\"text\" name=\"namername\" placeholder=\"Enter your article's title.\" data-parse=\"uppercase\" onChange={this.handleTitleChange} />\n            </div>\n          </div>\n        </p>\n        <p>\n          <div>\n            <TextareaAutosize placeholder=\"Enter your article's text.\" id=\"text\" name=\"article\" rows=\"4\" onChange={this.handleArticleChange} />\n          </div>\n        </p>\n\n        <Button type=\"secondary\" onClick={this.handleSubmit}>\n          Add Article\n      </Button>\n\n      </form>\n    );\n  }\n}\n\nexport default PostScreen"]},"metadata":{},"sourceType":"module"}