{"ast":null,"code":"'use strict';\n\nconst path = require('path');\n\nconst nopt = require('nopt');\n\nconst log = require('npmlog');\n\nconst childProcess = require('child_process');\n\nconst EE = require('events').EventEmitter;\n\nconst inherits = require('util').inherits;\n\nconst commands = [// Module build commands\n'build', 'clean', 'configure', 'rebuild', // Development Header File management commands\n'install', 'list', 'remove'];\nconst aliases = {\n  ls: 'list',\n  rm: 'remove'\n}; // differentiate node-gyp's logs from npm's\n\nlog.heading = 'gyp';\n\nfunction gyp() {\n  return new Gyp();\n}\n\nfunction Gyp() {\n  var self = this;\n  this.devDir = '';\n  this.commands = {};\n  commands.forEach(function (command) {\n    self.commands[command] = function (argv, callback) {\n      log.verbose('command', command, argv);\n      return require('./' + command)(self, argv, callback);\n    };\n  });\n}\n\ninherits(Gyp, EE);\nexports.Gyp = Gyp;\nvar proto = Gyp.prototype;\n/**\n * Export the contents of the package.json.\n */\n\nproto.package = require('../package.json');\n/**\n * nopt configuration definitions\n */\n\nproto.configDefs = {\n  help: Boolean,\n  // everywhere\n  arch: String,\n  // 'configure'\n  cafile: String,\n  // 'install'\n  debug: Boolean,\n  // 'build'\n  directory: String,\n  // bin\n  make: String,\n  // 'build'\n  msvs_version: String,\n  // 'configure'\n  ensure: Boolean,\n  // 'install'\n  solution: String,\n  // 'build' (windows only)\n  proxy: String,\n  // 'install'\n  devdir: String,\n  // everywhere\n  nodedir: String,\n  // 'configure'\n  loglevel: String,\n  // everywhere\n  python: String,\n  // 'configure'\n  'dist-url': String,\n  // 'install'\n  tarball: String,\n  // 'install'\n  jobs: String,\n  // 'build'\n  thin: String // 'configure'\n\n};\n/**\n * nopt shorthands\n */\n\nproto.shorthands = {\n  release: '--no-debug',\n  C: '--directory',\n  debug: '--debug',\n  j: '--jobs',\n  silly: '--loglevel=silly',\n  verbose: '--loglevel=verbose',\n  silent: '--loglevel=silent'\n};\n/**\n * expose the command aliases for the bin file to use.\n */\n\nproto.aliases = aliases;\n/**\n * Parses the given argv array and sets the 'opts',\n * 'argv' and 'command' properties.\n */\n\nproto.parseArgv = function parseOpts(argv) {\n  this.opts = nopt(this.configDefs, this.shorthands, argv);\n  this.argv = this.opts.argv.remain.slice();\n  var commands = this.todo = []; // create a copy of the argv array with aliases mapped\n\n  argv = this.argv.map(function (arg) {\n    // is this an alias?\n    if (arg in this.aliases) {\n      arg = this.aliases[arg];\n    }\n\n    return arg;\n  }, this); // process the mapped args into \"command\" objects (\"name\" and \"args\" props)\n\n  argv.slice().forEach(function (arg) {\n    if (arg in this.commands) {\n      var args = argv.splice(0, argv.indexOf(arg));\n      argv.shift();\n\n      if (commands.length > 0) {\n        commands[commands.length - 1].args = args;\n      }\n\n      commands.push({\n        name: arg,\n        args: []\n      });\n    }\n  }, this);\n\n  if (commands.length > 0) {\n    commands[commands.length - 1].args = argv.splice(0);\n  } // support for inheriting config env variables from npm\n\n\n  var npmConfigPrefix = 'npm_config_';\n  Object.keys(process.env).forEach(function (name) {\n    if (name.indexOf(npmConfigPrefix) !== 0) {\n      return;\n    }\n\n    var val = process.env[name];\n\n    if (name === npmConfigPrefix + 'loglevel') {\n      log.level = val;\n    } else {\n      // add the user-defined options to the config\n      name = name.substring(npmConfigPrefix.length); // gyp@741b7f1 enters an infinite loop when it encounters\n      // zero-length options so ensure those don't get through.\n\n      if (name) {\n        this.opts[name] = val;\n      }\n    }\n  }, this);\n\n  if (this.opts.loglevel) {\n    log.level = this.opts.loglevel;\n  }\n\n  log.resume();\n};\n/**\n * Spawns a child process and emits a 'spawn' event.\n */\n\n\nproto.spawn = function spawn(command, args, opts) {\n  if (!opts) {\n    opts = {};\n  }\n\n  if (!opts.silent && !opts.stdio) {\n    opts.stdio = [0, 1, 2];\n  }\n\n  var cp = childProcess.spawn(command, args, opts);\n  log.info('spawn', command);\n  log.info('spawn args', args);\n  return cp;\n};\n/**\n * Returns the usage instructions for node-gyp.\n */\n\n\nproto.usage = function usage() {\n  var str = ['', '  Usage: node-gyp <command> [options]', '', '  where <command> is one of:', commands.map(function (c) {\n    return '    - ' + c + ' - ' + require('./' + c).usage;\n  }).join('\\n'), '', 'node-gyp@' + this.version + '  ' + path.resolve(__dirname, '..'), 'node@' + process.versions.node].join('\\n');\n  return str;\n};\n/**\n * Version number getter.\n */\n\n\nObject.defineProperty(proto, 'version', {\n  get: function () {\n    return this.package.version;\n  },\n  enumerable: true\n});\nmodule.exports = exports = gyp;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/node_modules/node-gyp/lib/node-gyp.js"],"names":["path","require","nopt","log","childProcess","EE","EventEmitter","inherits","commands","aliases","ls","rm","heading","gyp","Gyp","self","devDir","forEach","command","argv","callback","verbose","exports","proto","prototype","package","configDefs","help","Boolean","arch","String","cafile","debug","directory","make","msvs_version","ensure","solution","proxy","devdir","nodedir","loglevel","python","tarball","jobs","thin","shorthands","release","C","j","silly","silent","parseArgv","parseOpts","opts","remain","slice","todo","map","arg","args","splice","indexOf","shift","length","push","name","npmConfigPrefix","Object","keys","process","env","val","level","substring","resume","spawn","stdio","cp","info","usage","str","c","join","version","resolve","__dirname","versions","node","defineProperty","get","enumerable","module"],"mappings":"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","sourcesContent":["'use strict'\n\nconst path = require('path')\nconst nopt = require('nopt')\nconst log = require('npmlog')\nconst childProcess = require('child_process')\nconst EE = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst commands = [\n  // Module build commands\n  'build',\n  'clean',\n  'configure',\n  'rebuild',\n  // Development Header File management commands\n  'install',\n  'list',\n  'remove'\n]\nconst aliases = {\n  ls: 'list',\n  rm: 'remove'\n}\n\n// differentiate node-gyp's logs from npm's\nlog.heading = 'gyp'\n\nfunction gyp () {\n  return new Gyp()\n}\n\nfunction Gyp () {\n  var self = this\n\n  this.devDir = ''\n  this.commands = {}\n\n  commands.forEach(function (command) {\n    self.commands[command] = function (argv, callback) {\n      log.verbose('command', command, argv)\n      return require('./' + command)(self, argv, callback)\n    }\n  })\n}\ninherits(Gyp, EE)\nexports.Gyp = Gyp\nvar proto = Gyp.prototype\n\n/**\n * Export the contents of the package.json.\n */\n\nproto.package = require('../package.json')\n\n/**\n * nopt configuration definitions\n */\n\nproto.configDefs = {\n  help: Boolean, // everywhere\n  arch: String, // 'configure'\n  cafile: String, // 'install'\n  debug: Boolean, // 'build'\n  directory: String, // bin\n  make: String, // 'build'\n  msvs_version: String, // 'configure'\n  ensure: Boolean, // 'install'\n  solution: String, // 'build' (windows only)\n  proxy: String, // 'install'\n  devdir: String, // everywhere\n  nodedir: String, // 'configure'\n  loglevel: String, // everywhere\n  python: String, // 'configure'\n  'dist-url': String, // 'install'\n  tarball: String, // 'install'\n  jobs: String, // 'build'\n  thin: String // 'configure'\n}\n\n/**\n * nopt shorthands\n */\n\nproto.shorthands = {\n  release: '--no-debug',\n  C: '--directory',\n  debug: '--debug',\n  j: '--jobs',\n  silly: '--loglevel=silly',\n  verbose: '--loglevel=verbose',\n  silent: '--loglevel=silent'\n}\n\n/**\n * expose the command aliases for the bin file to use.\n */\n\nproto.aliases = aliases\n\n/**\n * Parses the given argv array and sets the 'opts',\n * 'argv' and 'command' properties.\n */\n\nproto.parseArgv = function parseOpts (argv) {\n  this.opts = nopt(this.configDefs, this.shorthands, argv)\n  this.argv = this.opts.argv.remain.slice()\n\n  var commands = this.todo = []\n\n  // create a copy of the argv array with aliases mapped\n  argv = this.argv.map(function (arg) {\n    // is this an alias?\n    if (arg in this.aliases) {\n      arg = this.aliases[arg]\n    }\n    return arg\n  }, this)\n\n  // process the mapped args into \"command\" objects (\"name\" and \"args\" props)\n  argv.slice().forEach(function (arg) {\n    if (arg in this.commands) {\n      var args = argv.splice(0, argv.indexOf(arg))\n      argv.shift()\n      if (commands.length > 0) {\n        commands[commands.length - 1].args = args\n      }\n      commands.push({ name: arg, args: [] })\n    }\n  }, this)\n  if (commands.length > 0) {\n    commands[commands.length - 1].args = argv.splice(0)\n  }\n\n  // support for inheriting config env variables from npm\n  var npmConfigPrefix = 'npm_config_'\n  Object.keys(process.env).forEach(function (name) {\n    if (name.indexOf(npmConfigPrefix) !== 0) {\n      return\n    }\n    var val = process.env[name]\n    if (name === npmConfigPrefix + 'loglevel') {\n      log.level = val\n    } else {\n      // add the user-defined options to the config\n      name = name.substring(npmConfigPrefix.length)\n      // gyp@741b7f1 enters an infinite loop when it encounters\n      // zero-length options so ensure those don't get through.\n      if (name) {\n        this.opts[name] = val\n      }\n    }\n  }, this)\n\n  if (this.opts.loglevel) {\n    log.level = this.opts.loglevel\n  }\n  log.resume()\n}\n\n/**\n * Spawns a child process and emits a 'spawn' event.\n */\n\nproto.spawn = function spawn (command, args, opts) {\n  if (!opts) {\n    opts = {}\n  }\n  if (!opts.silent && !opts.stdio) {\n    opts.stdio = [0, 1, 2]\n  }\n  var cp = childProcess.spawn(command, args, opts)\n  log.info('spawn', command)\n  log.info('spawn args', args)\n  return cp\n}\n\n/**\n * Returns the usage instructions for node-gyp.\n */\n\nproto.usage = function usage () {\n  var str = [\n    '',\n    '  Usage: node-gyp <command> [options]',\n    '',\n    '  where <command> is one of:',\n    commands.map(function (c) {\n      return '    - ' + c + ' - ' + require('./' + c).usage\n    }).join('\\n'),\n    '',\n    'node-gyp@' + this.version + '  ' + path.resolve(__dirname, '..'),\n    'node@' + process.versions.node\n  ].join('\\n')\n  return str\n}\n\n/**\n * Version number getter.\n */\n\nObject.defineProperty(proto, 'version', {\n  get: function () {\n    return this.package.version\n  },\n  enumerable: true\n})\n\nmodule.exports = exports = gyp\n"]},"metadata":{},"sourceType":"script"}