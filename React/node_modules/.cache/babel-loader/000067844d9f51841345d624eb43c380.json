{"ast":null,"code":"var util = require('util');\n\nvar isProperty = require('is-property');\n\nvar INDENT_START = /[\\{\\[]/;\nvar INDENT_END = /[\\}\\]]/; // from https://mathiasbynens.be/notes/reserved-keywords\n\nvar RESERVED = ['do', 'if', 'in', 'for', 'let', 'new', 'try', 'var', 'case', 'else', 'enum', 'eval', 'null', 'this', 'true', 'void', 'with', 'await', 'break', 'catch', 'class', 'const', 'false', 'super', 'throw', 'while', 'yield', 'delete', 'export', 'import', 'public', 'return', 'static', 'switch', 'typeof', 'default', 'extends', 'finally', 'package', 'private', 'continue', 'debugger', 'function', 'arguments', 'interface', 'protected', 'implements', 'instanceof', 'NaN', 'undefined'];\nvar RESERVED_MAP = {};\n\nfor (var i = 0; i < RESERVED.length; i++) {\n  RESERVED_MAP[RESERVED[i]] = true;\n}\n\nvar isVariable = function (name) {\n  return isProperty(name) && !RESERVED_MAP.hasOwnProperty(name);\n};\n\nvar formats = {\n  s: function (s) {\n    return '' + s;\n  },\n  d: function (d) {\n    return '' + Number(d);\n  },\n  o: function (o) {\n    return JSON.stringify(o);\n  }\n};\n\nvar genfun = function () {\n  var lines = [];\n  var indent = 0;\n  var vars = {};\n\n  var push = function (str) {\n    var spaces = '';\n\n    while (spaces.length < indent * 2) spaces += '  ';\n\n    lines.push(spaces + str);\n  };\n\n  var pushLine = function (line) {\n    if (INDENT_END.test(line.trim()[0]) && INDENT_START.test(line[line.length - 1])) {\n      indent--;\n      push(line);\n      indent++;\n      return;\n    }\n\n    if (INDENT_START.test(line[line.length - 1])) {\n      push(line);\n      indent++;\n      return;\n    }\n\n    if (INDENT_END.test(line.trim()[0])) {\n      indent--;\n      push(line);\n      return;\n    }\n\n    push(line);\n  };\n\n  var line = function (fmt) {\n    if (!fmt) return line;\n\n    if (arguments.length === 1 && fmt.indexOf('\\n') > -1) {\n      var lines = fmt.trim().split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n        pushLine(lines[i].trim());\n      }\n    } else {\n      pushLine(util.format.apply(util, arguments));\n    }\n\n    return line;\n  };\n\n  line.scope = {};\n  line.formats = formats;\n\n  line.sym = function (name) {\n    if (!name || !isVariable(name)) name = 'tmp';\n    if (!vars[name]) vars[name] = 0;\n    return name + (vars[name]++ || '');\n  };\n\n  line.property = function (obj, name) {\n    if (arguments.length === 1) {\n      name = obj;\n      obj = '';\n    }\n\n    name = name + '';\n    if (isProperty(name)) return obj ? obj + '.' + name : name;\n    return obj ? obj + '[' + JSON.stringify(name) + ']' : JSON.stringify(name);\n  };\n\n  line.toString = function () {\n    return lines.join('\\n');\n  };\n\n  line.toFunction = function (scope) {\n    if (!scope) scope = {};\n    var src = 'return (' + line.toString() + ')';\n    Object.keys(line.scope).forEach(function (key) {\n      if (!scope[key]) scope[key] = line.scope[key];\n    });\n    var keys = Object.keys(scope).map(function (key) {\n      return key;\n    });\n    var vals = keys.map(function (key) {\n      return scope[key];\n    });\n    return Function.apply(null, keys.concat(src)).apply(null, vals);\n  };\n\n  if (arguments.length) line.apply(null, arguments);\n  return line;\n};\n\ngenfun.formats = formats;\nmodule.exports = genfun;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp5/expresstimes/node_modules/generate-function/index.js"],"names":["util","require","isProperty","INDENT_START","INDENT_END","RESERVED","RESERVED_MAP","i","length","isVariable","name","hasOwnProperty","formats","s","d","Number","o","JSON","stringify","genfun","lines","indent","vars","push","str","spaces","pushLine","line","test","trim","fmt","arguments","indexOf","split","format","apply","scope","sym","property","obj","toString","join","toFunction","src","Object","keys","forEach","key","map","vals","Function","concat","module","exports"],"mappings":"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","sourcesContent":["var util = require('util')\nvar isProperty = require('is-property')\n\nvar INDENT_START = /[\\{\\[]/\nvar INDENT_END = /[\\}\\]]/\n\n// from https://mathiasbynens.be/notes/reserved-keywords\nvar RESERVED = [\n  'do',\n  'if',\n  'in',\n  'for',\n  'let',\n  'new',\n  'try',\n  'var',\n  'case',\n  'else',\n  'enum',\n  'eval',\n  'null',\n  'this',\n  'true',\n  'void',\n  'with',\n  'await',\n  'break',\n  'catch',\n  'class',\n  'const',\n  'false',\n  'super',\n  'throw',\n  'while',\n  'yield',\n  'delete',\n  'export',\n  'import',\n  'public',\n  'return',\n  'static',\n  'switch',\n  'typeof',\n  'default',\n  'extends',\n  'finally',\n  'package',\n  'private',\n  'continue',\n  'debugger',\n  'function',\n  'arguments',\n  'interface',\n  'protected',\n  'implements',\n  'instanceof',\n  'NaN',\n  'undefined'\n]\n\nvar RESERVED_MAP = {}\n\nfor (var i = 0; i < RESERVED.length; i++) {\n  RESERVED_MAP[RESERVED[i]] = true\n}\n\nvar isVariable = function (name) {\n  return isProperty(name) && !RESERVED_MAP.hasOwnProperty(name)\n}\n\nvar formats = {\n  s: function(s) {\n    return '' + s\n  },\n  d: function(d) {\n    return '' + Number(d)\n  },\n  o: function(o) {\n    return JSON.stringify(o)\n  }\n}\n\nvar genfun = function() {\n  var lines = []\n  var indent = 0\n  var vars = {}\n\n  var push = function(str) {\n    var spaces = ''\n    while (spaces.length < indent*2) spaces += '  '\n    lines.push(spaces+str)\n  }\n\n  var pushLine = function(line) {\n    if (INDENT_END.test(line.trim()[0]) && INDENT_START.test(line[line.length-1])) {\n      indent--\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_START.test(line[line.length-1])) {\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_END.test(line.trim()[0])) {\n      indent--\n      push(line)\n      return\n    }\n\n    push(line)\n  }\n\n  var line = function(fmt) {\n    if (!fmt) return line\n\n    if (arguments.length === 1 && fmt.indexOf('\\n') > -1) {\n      var lines = fmt.trim().split('\\n')\n      for (var i = 0; i < lines.length; i++) {\n        pushLine(lines[i].trim())\n      }\n    } else {\n      pushLine(util.format.apply(util, arguments))\n    }\n\n    return line\n  }\n\n  line.scope = {}\n  line.formats = formats\n\n  line.sym = function(name) {\n    if (!name || !isVariable(name)) name = 'tmp'\n    if (!vars[name]) vars[name] = 0\n    return name + (vars[name]++ || '')\n  }\n\n  line.property = function(obj, name) {\n    if (arguments.length === 1) {\n      name = obj\n      obj = ''\n    }\n\n    name = name + ''\n\n    if (isProperty(name)) return (obj ? obj + '.' + name : name)\n    return obj ? obj + '[' + JSON.stringify(name) + ']' : JSON.stringify(name)\n  }\n\n  line.toString = function() {\n    return lines.join('\\n')\n  }\n\n  line.toFunction = function(scope) {\n    if (!scope) scope = {}\n\n    var src = 'return ('+line.toString()+')'\n\n    Object.keys(line.scope).forEach(function (key) {\n      if (!scope[key]) scope[key] = line.scope[key]\n    })\n\n    var keys = Object.keys(scope).map(function(key) {\n      return key\n    })\n\n    var vals = keys.map(function(key) {\n      return scope[key]\n    })\n\n    return Function.apply(null, keys.concat(src)).apply(null, vals)\n  }\n\n  if (arguments.length) line.apply(null, arguments)\n\n  return line\n}\n\ngenfun.formats = formats\nmodule.exports = genfun\n"]},"metadata":{},"sourceType":"script"}