{"ast":null,"code":"var _jsxFileName = \"/Users/ryandavis/Development/expresstimes/React/src/post.js\";\nimport './styles.css';\nimport 'antd/dist/antd.css';\nimport React, { Component, Fragment } from 'react';\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n\n    this.handleTitleChange = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.handleArticleChange = e => {\n      this.setState({\n        article: e.target.value\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      article: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleArticleChange = this.handleArticleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var div = document.createElement(\"div\");\n    div.innerText = this.state.article;\n    console.log(div.innerHTML);\n    fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"title\": this.state.title,\n        \"article\": div.innerHTML\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.ok) {\n        const history = this.props.history;\n        history.push(\"/articles\"); //Refresh so we load the new content\n\n        window.location.reload(false);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      id: \"paper\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"namer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"namer-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"namername\",\n      placeholder: \"Enter your article's title.\",\n      \"data-parse\": \"uppercase\",\n      onChange: this.handleTitleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(TextareaAutosize, {\n      placeholder: \"Enter your article's text.\",\n      id: \"text\",\n      name: \"article\",\n      rows: \"4\",\n      onChange: this.handleArticleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"secondary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Add Article\"));\n  }\n\n}\n\nexport default PostScreen;","map":{"version":3,"sources":["/Users/ryandavis/Development/expresstimes/React/src/post.js"],"names":["React","Component","Fragment","Button","Icon","Input","Dropdown","Menu","TextareaAutosize","PostScreen","constructor","handleTitleChange","e","setState","title","target","value","handleArticleChange","article","state","handleSubmit","bind","event","preventDefault","div","document","createElement","innerText","console","log","innerHTML","fetch","method","body","JSON","stringify","headers","then","response","ok","history","props","push","window","location","reload","render"],"mappings":"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","sourcesContent":["import './styles.css'\nimport 'antd/dist/antd.css'\nimport React, { Component, Fragment } from 'react'\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd'\nimport TextareaAutosize from 'react-textarea-autosize';\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"\",\n      article: \"\"\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this)\n    this.handleArticleChange = this.handleArticleChange.bind(this)\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    var div = document.createElement(\"div\");\n    div.innerText = this.state.article;\n    console.log(div.innerHTML);\n    fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({ \"title\": this.state.title, \"article\": div.innerHTML }),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(response => {\n        console.log(response);\n        if (response.ok) {\n          const { history } = this.props;\n          history.push(\"/articles\");\n          //Refresh so we load the new content\n          window.location.reload(false)\n        }\n\n      });\n\n  }\n\n  handleTitleChange = (e) => {\n    this.setState({ title: e.target.value });\n  }\n\n  handleArticleChange = (e) => {\n    this.setState({ article: e.target.value });\n  }\n\n  render() {\n    return (\n      <form id=\"paper\" onSubmit={this.handleSubmit}>\n        <p>\n          <div id=\"namer\">\n            <div id=\"namer-input\">\n              <input type=\"text\" name=\"namername\" placeholder=\"Enter your article's title.\" data-parse=\"uppercase\" onChange={this.handleTitleChange} />\n            </div>\n          </div>\n        </p>\n        <p>\n          <div>\n            <TextareaAutosize placeholder=\"Enter your article's text.\" id=\"text\" name=\"article\" rows=\"4\" onChange={this.handleArticleChange} />\n          </div>\n        </p>\n\n        <Button type=\"secondary\" onClick={this.handleSubmit}>\n          Add Article\n      </Button>\n\n      </form>\n    );\n  }\n}\n\nexport default PostScreen"]},"metadata":{},"sourceType":"module"}