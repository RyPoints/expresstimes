{"ast":null,"code":"'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      process.nextTick(emitErrorNT, this, err);\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      process.nextTick(emitErrorAndCloseNT, _this, err);\n\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp5/expresstimes/node_modules/readable-stream/lib/internal/streams/destroy.js"],"names":["destroy","err","cb","_this","readableDestroyed","_readableState","destroyed","writableDestroyed","_writableState","errorEmitted","process","nextTick","emitErrorNT","_destroy","emitErrorAndCloseNT","emitCloseNT","self","emitClose","emit","undestroy","reading","ended","endEmitted","ending","finalCalled","prefinished","finished","module","exports"],"mappings":"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","sourcesContent":["'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      process.nextTick(emitErrorNT, this, err);\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      process.nextTick(emitErrorAndCloseNT, _this, err);\n\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};"]},"metadata":{},"sourceType":"script"}