{"ast":null,"code":"\"use strict\";\n\nconst _require = require(\"./TimeoutError\"),\n      TimeoutError = _require.TimeoutError;\n\nclass Deferred {\n  constructor() {\n    this._timeout = null;\n    this._promise = new Promise((resolve, reject) => {\n      this._reject = reject;\n      this._resolve = resolve;\n    });\n  }\n\n  registerTimeout(timeoutInMillis, callback) {\n    if (this._timeout) return;\n    this._timeout = setTimeout(() => {\n      callback();\n      this.reject(new TimeoutError(\"Operation timeout\"));\n    }, timeoutInMillis);\n  }\n\n  _clearTimeout() {\n    if (!this._timeout) return;\n    clearTimeout(this._timeout);\n    this._timeout = null;\n  }\n\n  resolve(value) {\n    this._clearTimeout();\n\n    this._resolve(value);\n  }\n\n  reject(error) {\n    this._clearTimeout();\n\n    this._reject(error);\n  }\n\n  promise() {\n    return this._promise;\n  }\n\n}\n\nmodule.exports = Deferred;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/node_modules/sequelize-pool/lib/Deferred.js"],"names":["require","TimeoutError","Deferred","constructor","_timeout","_promise","Promise","resolve","reject","_reject","_resolve","registerTimeout","timeoutInMillis","callback","setTimeout","_clearTimeout","clearTimeout","value","error","promise","module","exports"],"mappings":"AAAA;;iBAEyBA,OAAO,CAAC,gBAAD,C;MAAxBC,Y,YAAAA,Y;;AAER,MAAMC,QAAN,CAAe;AACbC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,QAAL,GAAgB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/C,WAAKC,OAAL,GAAeD,MAAf;AACA,WAAKE,QAAL,GAAgBH,OAAhB;AACD,KAHe,CAAhB;AAID;;AAEDI,EAAAA,eAAe,CAACC,eAAD,EAAkBC,QAAlB,EAA4B;AACzC,QAAI,KAAKT,QAAT,EAAmB;AAEnB,SAAKA,QAAL,GAAgBU,UAAU,CAAC,MAAM;AAC/BD,MAAAA,QAAQ;AACR,WAAKL,MAAL,CAAY,IAAIP,YAAJ,CAAiB,mBAAjB,CAAZ;AACD,KAHyB,EAGvBW,eAHuB,CAA1B;AAID;;AAEDG,EAAAA,aAAa,GAAG;AACd,QAAI,CAAC,KAAKX,QAAV,EAAoB;AAEpBY,IAAAA,YAAY,CAAC,KAAKZ,QAAN,CAAZ;AACA,SAAKA,QAAL,GAAgB,IAAhB;AACD;;AAEDG,EAAAA,OAAO,CAACU,KAAD,EAAQ;AACb,SAAKF,aAAL;;AACA,SAAKL,QAAL,CAAcO,KAAd;AACD;;AAEDT,EAAAA,MAAM,CAACU,KAAD,EAAQ;AACZ,SAAKH,aAAL;;AACA,SAAKN,OAAL,CAAaS,KAAb;AACD;;AAEDC,EAAAA,OAAO,GAAG;AACR,WAAO,KAAKd,QAAZ;AACD;;AArCY;;AAwCfe,MAAM,CAACC,OAAP,GAAiBnB,QAAjB","sourcesContent":["\"use strict\";\n\nconst { TimeoutError } = require(\"./TimeoutError\");\n\nclass Deferred {\n  constructor() {\n    this._timeout = null;\n    this._promise = new Promise((resolve, reject) => {\n      this._reject = reject;\n      this._resolve = resolve;\n    });\n  }\n\n  registerTimeout(timeoutInMillis, callback) {\n    if (this._timeout) return;\n\n    this._timeout = setTimeout(() => {\n      callback();\n      this.reject(new TimeoutError(\"Operation timeout\"));\n    }, timeoutInMillis);\n  }\n\n  _clearTimeout() {\n    if (!this._timeout) return;\n\n    clearTimeout(this._timeout);\n    this._timeout = null;\n  }\n\n  resolve(value) {\n    this._clearTimeout();\n    this._resolve(value);\n  }\n\n  reject(error) {\n    this._clearTimeout();\n    this._reject(error);\n  }\n\n  promise() {\n    return this._promise;\n  }\n}\n\nmodule.exports = Deferred;\n"]},"metadata":{},"sourceType":"script"}