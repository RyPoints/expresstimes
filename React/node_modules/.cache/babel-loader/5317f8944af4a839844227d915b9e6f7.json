{"ast":null,"code":"import _slicedToArray from \"/Users/ryandavis/Development/expresstimes/React/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ryandavis/Development/expresstimes/React/src/post.js\";\nimport './styles.css';\nimport 'antd/dist/antd.css';\nimport React, { Component, Fragment } from 'react';\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nfunction readKey(file) {\n  var fs = require('fs');\n\n  try {\n    var string = fs.readFileSync(file, 'utf8');\n    return string;\n  } catch (e) {\n    console.log('Error:', e.stack);\n  }\n}\n\nconst inputParsers = {\n  date(input) {\n    const _input$split = input.split('/'),\n          _input$split2 = _slicedToArray(_input$split, 3),\n          month = _input$split2[0],\n          day = _input$split2[1],\n          year = _input$split2[2];\n\n    return `${year}-${month}-${day}`;\n  },\n\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n\n  number(input) {\n    return parseFloat(input);\n  }\n\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n\n    this.handleTitleChange = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.handleArticleChange = e => {\n      this.setState({\n        article: e.target.value\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      article: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleArticleChange = this.handleArticleChange.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var div = document.createElement(\"div\");\n    div.innerText = this.state.article;\n    console.log(div.innerHTML);\n    fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"title\": this.state.title,\n        \"article\": div.innerHTML\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response);\n\n      if (response.ok) {\n        const history = this.props.history;\n        history.push(\"/articles\");\n        window.location.reload(false);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      id: \"paper\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"namer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"namer-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"namername\",\n      placeholder: \"Enter your article's title.\",\n      \"data-parse\": \"uppercase\",\n      onChange: this.handleTitleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(TextareaAutosize, {\n      placeholder: \"Enter your article's text.\",\n      id: \"text\",\n      name: \"article\",\n      rows: \"4\",\n      onChange: this.handleArticleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      type: \"secondary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Add Article\"));\n  }\n\n}\n\nexport default PostScreen;","map":{"version":3,"sources":["/Users/ryandavis/Development/expresstimes/React/src/post.js"],"names":["React","Component","Fragment","Button","Icon","Input","Dropdown","Menu","TextareaAutosize","readKey","file","fs","require","string","readFileSync","e","console","log","stack","inputParsers","date","input","split","month","day","year","uppercase","toUpperCase","number","parseFloat","PostScreen","constructor","handleTitleChange","setState","title","target","value","handleArticleChange","article","state","handleSubmit","bind","event","preventDefault","div","document","createElement","innerText","innerHTML","fetch","method","body","JSON","stringify","headers","then","response","ok","history","props","push","window","location","reload","render"],"mappings":";;AAAA,OAAO,cAAP;AACA,OAAO,oBAAP;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,QAA9B,EAAwCC,IAAxC,QAAoD,MAApD;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;;AAEA,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,MAAIC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,MAAI;AACF,QAAIC,MAAM,GAAGF,EAAE,CAACG,YAAH,CAAgBJ,IAAhB,EAAsB,MAAtB,CAAb;AACA,WAAOG,MAAP;AACD,GAHD,CAGE,OAAOE,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,CAAC,CAACG,KAAxB;AACD;AACF;;AAED,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,CAACC,KAAD,EAAQ;AAAA,yBACiBA,KAAK,CAACC,KAAN,CAAY,GAAZ,CADjB;AAAA;AAAA,UACHC,KADG;AAAA,UACIC,GADJ;AAAA,UACSC,IADT;;AAEV,WAAQ,GAAEA,IAAK,IAAGF,KAAM,IAAGC,GAAI,EAA/B;AACD,GAJkB;;AAKnBE,EAAAA,SAAS,CAACL,KAAD,EAAQ;AACf,WAAOA,KAAK,CAACM,WAAN,EAAP;AACD,GAPkB;;AAQnBC,EAAAA,MAAM,CAACP,KAAD,EAAQ;AACZ,WAAOQ,UAAU,CAACR,KAAD,CAAjB;AACD;;AAVkB,CAArB;;AAaA,MAAMS,UAAN,SAAyB7B,SAAzB,CAAmC;AACjC8B,EAAAA,WAAW,GAAG;AACZ;;AADY,SAkCdC,iBAlCc,GAkCOjB,CAAD,IAAO;AACzB,WAAKkB,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEnB,CAAC,CAACoB,MAAF,CAASC;AAAlB,OAAd;AACD,KApCa;;AAAA,SAsCdC,mBAtCc,GAsCStB,CAAD,IAAO;AAC3B,WAAKkB,QAAL,CAAc;AAAEK,QAAAA,OAAO,EAAEvB,CAAC,CAACoB,MAAF,CAASC;AAApB,OAAd;AACD,KAxCa;;AAEZ,SAAKG,KAAL,GAAa;AACXL,MAAAA,KAAK,EAAE,EADI;AAEXI,MAAAA,OAAO,EAAE;AAFE,KAAb;AAIA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKT,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBS,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKJ,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBI,IAAzB,CAA8B,IAA9B,CAA3B;AACD;;AAEDD,EAAAA,YAAY,CAACE,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AAEA,QAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACAF,IAAAA,GAAG,CAACG,SAAJ,GAAgB,KAAKR,KAAL,CAAWD,OAA3B;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAY2B,GAAG,CAACI,SAAhB;AACAC,IAAAA,KAAK,CAAC,oEAAD,EAAuE;AAC1EC,MAAAA,MAAM,EAAE,MADkE;AAE1EC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE,iBAAS,KAAKd,KAAL,CAAWL,KAAtB;AAA6B,mBAAWU,GAAG,CAACI;AAA5C,OAAf,CAFoE;AAG1EM,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHiE,KAAvE,CAAL,CAKGC,IALH,CAKQC,QAAQ,IAAI;AAChBxC,MAAAA,OAAO,CAACC,GAAR,CAAYuC,QAAZ;;AACA,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AAAA,cACPC,OADO,GACK,KAAKC,KADV,CACPD,OADO;AAEfA,QAAAA,OAAO,CAACE,IAAR,CAAa,WAAb;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;AAEF,KAbH;AAeD;;AAUDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAM,MAAA,EAAE,EAAC,OAAT;AAAiB,MAAA,QAAQ,EAAE,KAAKxB,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,WAAxB;AAAoC,MAAA,WAAW,EAAC,6BAAhD;AAA8E,oBAAW,WAAzF;AAAqG,MAAA,QAAQ,EAAE,KAAKR,iBAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,WAAW,EAAC,4BAA9B;AAA2D,MAAA,EAAE,EAAC,MAA9D;AAAqE,MAAA,IAAI,EAAC,SAA1E;AAAoF,MAAA,IAAI,EAAC,GAAzF;AAA6F,MAAA,QAAQ,EAAE,KAAKK,mBAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CARF,EAcE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,WAAb;AAAyB,MAAA,OAAO,EAAE,KAAKG,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAdF,CADF;AAqBD;;AAjEgC;;AAoEnC,eAAeV,UAAf","sourcesContent":["import './styles.css'\nimport 'antd/dist/antd.css'\nimport React, { Component, Fragment } from 'react'\nimport { Button, Icon, Input, Dropdown, Menu } from 'antd'\nimport TextareaAutosize from 'react-textarea-autosize';\n\nfunction readKey(file) {\n  var fs = require('fs');\n  try {\n    var string = fs.readFileSync(file, 'utf8');\n    return string;\n  } catch (e) {\n    console.log('Error:', e.stack);\n  }\n}\n\nconst inputParsers = {\n  date(input) {\n    const [month, day, year] = input.split('/');\n    return `${year}-${month}-${day}`;\n  },\n  uppercase(input) {\n    return input.toUpperCase();\n  },\n  number(input) {\n    return parseFloat(input);\n  },\n};\n\nclass PostScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"\",\n      article: \"\"\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this)\n    this.handleArticleChange = this.handleArticleChange.bind(this)\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    var div = document.createElement(\"div\");\n    div.innerText = this.state.article;\n    console.log(div.innerHTML);\n    fetch('https://r8btapgiw9.execute-api.us-east-1.amazonaws.com/latest/post', {\n      method: 'POST',\n      body: JSON.stringify({ \"title\": this.state.title, \"article\": div.innerHTML }),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(response => {\n        console.log(response);\n        if (response.ok) {\n          const { history } = this.props;\n          history.push(\"/articles\");\n          window.location.reload(false)\n        }\n\n      });\n\n  }\n\n  handleTitleChange = (e) => {\n    this.setState({ title: e.target.value });\n  }\n\n  handleArticleChange = (e) => {\n    this.setState({ article: e.target.value });\n  }\n\n  render() {\n    return (\n      <form id=\"paper\" onSubmit={this.handleSubmit}>\n        <p>\n          <div id=\"namer\">\n            <div id=\"namer-input\">\n              <input type=\"text\" name=\"namername\" placeholder=\"Enter your article's title.\" data-parse=\"uppercase\" onChange={this.handleTitleChange} />\n            </div>\n          </div>\n        </p>\n        <p>\n          <div>\n            <TextareaAutosize placeholder=\"Enter your article's text.\" id=\"text\" name=\"article\" rows=\"4\" onChange={this.handleArticleChange} />\n          </div>\n        </p>\n\n        <Button type=\"secondary\" onClick={this.handleSubmit}>\n          Add Article\n      </Button>\n\n      </form>\n    );\n  }\n}\n\nexport default PostScreen"]},"metadata":{},"sourceType":"module"}