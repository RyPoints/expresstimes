{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\nimport Measure from 'react-measure';\nimport { Transition, Trail, animated, interpolate } from 'react-spring';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar styles = {\n  outer: {\n    position: 'relative',\n    width: '100%',\n    height: '100%'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    minHeight: '100%'\n  },\n  cell: {\n    position: 'absolute',\n    willChange: 'transform, width, height, opacity'\n  }\n};\n\nvar Grid =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(Grid, _React$PureComponent);\n\n  function Grid() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      width: 0,\n      height: 0,\n      heightOuter: 0,\n      widthOuter: 0,\n      open: undefined,\n      lastOpen: undefined\n    };\n\n    _this.scrollOut = function (e) {\n      if (!_this.props.lockScroll) {\n        _this.state.open && _this.toggle(undefined);\n        _this.clicked = false;\n      }\n    };\n\n    _this.toggle = function (key) {\n      return _this.setState(function (state) {\n        return {\n          lastOpen: state.open,\n          open: state.open === key ? undefined : key\n        };\n      }, function () {\n        return _this.clicked = true;\n      });\n    };\n\n    _this.resize = function (width, height, props) {\n      var _this$setState;\n\n      return _this.setState((_this$setState = {}, _this$setState[width] = props.client.width, _this$setState[height] = props.client.height, _this$setState));\n    };\n\n    _this.resizeOuter = function (props) {\n      return _this.resize('widthOuter', 'heightOuter', props);\n    };\n\n    _this.resizeInner = function (props) {\n      return _this.resize('width', 'height', props);\n    };\n\n    _this.update = function (_ref) {\n      var key = _ref.key,\n          x = _ref.x,\n          y = _ref.y,\n          width = _ref.width,\n          height = _ref.height;\n      var open = _this.state.open === key;\n      return {\n        opacity: _this.state.open && !open ? 0 : 1,\n        x: open ? _this.outerRef.scrollLeft : x,\n        y: open ? _this.outerRef.scrollTop : y,\n        width: open ? _this.state.width : width,\n        height: open ? _this.state.heightOuter : height\n      };\n    };\n\n    _this.cell = function (_ref2, i) {\n      var key = _ref2.key,\n          object = _ref2.object;\n      return function (_ref3) {\n        var lastOpen = _ref3.lastOpen,\n            open = _ref3.open,\n            opacity = _ref3.opacity,\n            x = _ref3.x,\n            y = _ref3.y,\n            width = _ref3.width,\n            height = _ref3.height;\n        return React.createElement(animated.div, {\n          style: _extends({}, styles.cell, {\n            opacity: opacity,\n            width: width,\n            height: height,\n            zIndex: lastOpen === key || open === key ? 1000 : i,\n            transform: interpolate([x, y], function (x, y) {\n              return \"translate3d(\" + x + \"px,\" + y + \"px, 0)\";\n            })\n          }),\n          children: _this.props.children(object, open === key, function () {\n            return _this.toggle(key);\n          })\n        });\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = Grid.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.clicked = false;\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        _this$props$columns = _this$props.columns,\n        columns = _this$props$columns === void 0 ? 3 : _this$props$columns,\n        _this$props$margin = _this$props.margin,\n        margin = _this$props$margin === void 0 ? 0 : _this$props$margin,\n        _this$props$occupySpa = _this$props.occupySpace,\n        occupySpace = _this$props$occupySpa === void 0 ? true : _this$props$occupySpa,\n        _this$props$lockScrol = _this$props.lockScroll,\n        lockScroll = _this$props$lockScrol === void 0 ? false : _this$props$lockScrol,\n        _this$props$closeDela = _this$props.closeDelay,\n        closeDelay = _this$props$closeDela === void 0 ? 0 : _this$props$closeDela,\n        _this$props$transitio = _this$props.transitionMount,\n        children = _this$props.children,\n        impl = _this$props.impl,\n        config = _this$props.config,\n        data = _this$props.data,\n        keys = _this$props.keys,\n        heights = _this$props.heights,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"columns\", \"margin\", \"occupySpace\", \"lockScroll\", \"closeDelay\", \"transitionMount\", \"children\", \"impl\", \"config\", \"data\", \"keys\", \"heights\"]);\n\n    var _this$state = this.state,\n        lastOpen = _this$state.lastOpen,\n        open = _this$state.open,\n        height = _this$state.height,\n        width = _this$state.width,\n        widthOuter = _this$state.widthOuter,\n        heightOuter = _this$state.heightOuter;\n    var column = 0;\n    var columnHeights = new Array(columns).fill(0);\n    var displayData = data.map(function (child, i) {\n      var index = occupySpace ? columnHeights.indexOf(Math.min.apply(Math, columnHeights)) : column++ % columns;\n      var cellWidth = width / columns - margin / (1 - 1 / (columns + 1));\n      var left = cellWidth * index;\n      var offset = (index + 1) * margin;\n      var top = columnHeights[index] + margin;\n      var cellHeight = typeof heights === 'function' ? heights(child) : heights || heightOuter - margin * 2;\n      columnHeights[index] += cellHeight + margin;\n      return {\n        x: margin ? left + offset : left,\n        y: top,\n        width: cellWidth,\n        height: cellHeight,\n        key: keys(child, i),\n        object: child\n      };\n    });\n    var overflow = lockScroll ? open ? 'hidden' : 'auto' : 'auto';\n    var totalHeight = Math.max.apply(Math, columnHeights) + margin;\n    return React.createElement(Measure, {\n      client: true,\n      innerRef: function innerRef(r) {\n        return _this2.outerRef = r;\n      },\n      onResize: this.resizeOuter\n    }, function (_ref4) {\n      var measureRef = _ref4.measureRef;\n      return React.createElement(\"div\", _extends({\n        ref: measureRef,\n        style: _extends({}, styles.outer, _this2.props.style, {\n          overflow: overflow\n        })\n      }, rest, {\n        onScroll: _this2.scrollOut,\n        onWheel: _this2.scrollOut,\n        onTouchMove: _this2.scrollOut\n      }), React.createElement(Measure, {\n        client: true,\n        innerRef: function innerRef(r) {\n          return _this2.innerRef = r;\n        },\n        onResize: _this2.resizeInner\n      }, function (_ref5) {\n        var measureRef = _ref5.measureRef;\n        return React.createElement(\"div\", {\n          ref: measureRef,\n          style: _extends({}, styles.inner, {\n            height: totalHeight\n          })\n        }, React.createElement(Transition, {\n          native: true,\n          delay: _this2.clicked && !open ? closeDelay : 0,\n          items: displayData,\n          keys: function keys(d) {\n            return d.key;\n          },\n          from: {\n            opacity: 0\n          },\n          leave: {\n            opacity: 0\n          },\n          enter: _this2.update,\n          update: _this2.update,\n          impl: impl,\n          config: config,\n          lastOpen: lastOpen,\n          open: open,\n          children: displayData.map(_this2.cell)\n        }));\n      }));\n    });\n  };\n\n  return Grid;\n}(React.PureComponent);\n\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  data: PropTypes.array,\n  keys: PropTypes.func,\n  occupySpace: PropTypes.bool,\n  columns: PropTypes.number,\n  margin: PropTypes.number,\n  heights:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  lockScroll: PropTypes.bool,\n  closeDelay: PropTypes.number,\n  transitionMount: PropTypes.bool\n} : void 0;\n\nvar wrap = function wrap(child, styles) {\n  styles = _extends({\n    willChange: Object.keys(styles).join(',')\n  }, styles);\n\n  if (!animated[child.type]) {\n    // Wrap components into animated divs\n    return React.createElement(animated.div, {\n      style: _extends({}, styles)\n    }, child);\n  } else {\n    // Otherwise inject styles into existing component-props\n    var Component = animated[child.type];\n\n    var props = _extends({}, child.props, {\n      style: _extends({}, child.props.style, styles)\n    });\n\n    return React.createElement(Component, props);\n  }\n}; // Wrapper around react-springs Trail component.\n// It will make each child (which must be a dom node) fade and trail in.\n\n\nvar Slug =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inheritsLoose(Slug, _React$PureComponent2);\n\n  function Slug() {\n    return _React$PureComponent2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = Slug.prototype;\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        _this$props2$from = _this$props2.from,\n        from = _this$props2$from === void 0 ? {\n      opacity: 0,\n      transform: 'translate3d(0,40px,0)'\n    } : _this$props2$from,\n        _this$props2$to = _this$props2.to,\n        to = _this$props2$to === void 0 ? {\n      opacity: 1,\n      transform: 'translate3d(0,0px,0)'\n    } : _this$props2$to,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"from\", \"to\"]);\n\n    var result = React.Children.map(children, function (child) {\n      return function (styles) {\n        return wrap(child, styles);\n      };\n    });\n    return React.createElement(Trail, _extends({\n      native: true\n    }, rest, {\n      keys: result.map(function (_, i) {\n        return i;\n      }),\n      from: from,\n      to: to,\n      children: result\n    }));\n  };\n\n  return Slug;\n}(React.PureComponent); // Wrapper around react-springs Transition.\n// It will Transition the child node in and out depending on the \"show\" prop.\n\n\nprocess.env.NODE_ENV !== \"production\" ? Slug.propTypes = {\n  from:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  to:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n} : void 0;\n\nvar Fade =\n/*#__PURE__*/\nfunction (_React$PureComponent3) {\n  _inheritsLoose(Fade, _React$PureComponent3);\n\n  function Fade() {\n    return _React$PureComponent3.apply(this, arguments) || this;\n  }\n\n  var _proto3 = Fade.prototype;\n\n  _proto3.render = function render() {\n    var _this$props3 = this.props,\n        children = _this$props3.children,\n        _this$props3$show = _this$props3.show,\n        show = _this$props3$show === void 0 ? true : _this$props3$show,\n        _this$props3$from = _this$props3.from,\n        from = _this$props3$from === void 0 ? {\n      opacity: 0\n    } : _this$props3$from,\n        _this$props3$enter = _this$props3.enter,\n        enter = _this$props3$enter === void 0 ? {\n      opacity: 1\n    } : _this$props3$enter,\n        _this$props3$leave = _this$props3.leave,\n        leave = _this$props3$leave === void 0 ? {\n      opacity: 0\n    } : _this$props3$leave,\n        rest = _objectWithoutPropertiesLoose(_this$props3, [\"children\", \"show\", \"from\", \"enter\", \"leave\"]);\n\n    var result = function result(styles) {\n      return wrap(children, styles);\n    };\n\n    return React.createElement(Transition, _extends({\n      native: true,\n      keys: show.toString()\n    }, rest, {\n      from: from,\n      enter: enter,\n      leave: leave,\n      children: show ? result : undefined\n    }));\n  };\n\n  return Fade;\n}(React.PureComponent);\n\nprocess.env.NODE_ENV !== \"production\" ? Fade.propTypes = {\n  children: PropTypes.node.isRequired,\n  show: PropTypes.bool,\n  from:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  enter:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  leave:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n} : void 0;\nexport { Grid, Slug, Fade };","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/node_modules/mauerwerk/dist/mauerwerk.es.js"],"names":["React","PropTypes","Measure","Transition","Trail","animated","interpolate","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","styles","outer","position","width","height","inner","overflow","minHeight","cell","willChange","Grid","_React$PureComponent","_this","_len","args","Array","_key","concat","state","heightOuter","widthOuter","open","undefined","lastOpen","scrollOut","e","props","lockScroll","toggle","clicked","setState","resize","_this$setState","client","resizeOuter","resizeInner","update","_ref","x","y","opacity","outerRef","scrollLeft","scrollTop","_ref2","object","_ref3","createElement","div","style","zIndex","transform","children","_proto","componentDidUpdate","render","_this2","_this$props","_this$props$columns","columns","_this$props$margin","margin","_this$props$occupySpa","occupySpace","_this$props$lockScrol","_this$props$closeDela","closeDelay","_this$props$transitio","transitionMount","impl","config","data","heights","rest","_this$state","column","columnHeights","fill","displayData","map","child","index","Math","min","cellWidth","left","offset","top","cellHeight","totalHeight","max","innerRef","r","onResize","_ref4","measureRef","ref","onScroll","onWheel","onTouchMove","_ref5","native","delay","items","d","from","leave","enter","PureComponent","process","env","NODE_ENV","propTypes","array","func","bool","number","oneOfType","wrap","join","type","Component","Slug","_React$PureComponent2","_proto2","_this$props2","_this$props2$from","_this$props2$to","to","result","Children","_","Fade","_React$PureComponent3","_proto3","_this$props3","_this$props3$show","show","_this$props3$from","_this$props3$enter","_this$props3$leave","toString","node","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Measure from 'react-measure';\nimport { Transition, Trail, animated, interpolate } from 'react-spring';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar styles = {\n  outer: {\n    position: 'relative',\n    width: '100%',\n    height: '100%'\n  },\n  inner: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    minHeight: '100%'\n  },\n  cell: {\n    position: 'absolute',\n    willChange: 'transform, width, height, opacity'\n  }\n};\nvar Grid =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(Grid, _React$PureComponent);\n\n  function Grid() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      width: 0,\n      height: 0,\n      heightOuter: 0,\n      widthOuter: 0,\n      open: undefined,\n      lastOpen: undefined\n    };\n\n    _this.scrollOut = function (e) {\n      if (!_this.props.lockScroll) {\n        _this.state.open && _this.toggle(undefined);\n        _this.clicked = false;\n      }\n    };\n\n    _this.toggle = function (key) {\n      return _this.setState(function (state) {\n        return {\n          lastOpen: state.open,\n          open: state.open === key ? undefined : key\n        };\n      }, function () {\n        return _this.clicked = true;\n      });\n    };\n\n    _this.resize = function (width, height, props) {\n      var _this$setState;\n\n      return _this.setState((_this$setState = {}, _this$setState[width] = props.client.width, _this$setState[height] = props.client.height, _this$setState));\n    };\n\n    _this.resizeOuter = function (props) {\n      return _this.resize('widthOuter', 'heightOuter', props);\n    };\n\n    _this.resizeInner = function (props) {\n      return _this.resize('width', 'height', props);\n    };\n\n    _this.update = function (_ref) {\n      var key = _ref.key,\n          x = _ref.x,\n          y = _ref.y,\n          width = _ref.width,\n          height = _ref.height;\n      var open = _this.state.open === key;\n      return {\n        opacity: _this.state.open && !open ? 0 : 1,\n        x: open ? _this.outerRef.scrollLeft : x,\n        y: open ? _this.outerRef.scrollTop : y,\n        width: open ? _this.state.width : width,\n        height: open ? _this.state.heightOuter : height\n      };\n    };\n\n    _this.cell = function (_ref2, i) {\n      var key = _ref2.key,\n          object = _ref2.object;\n      return function (_ref3) {\n        var lastOpen = _ref3.lastOpen,\n            open = _ref3.open,\n            opacity = _ref3.opacity,\n            x = _ref3.x,\n            y = _ref3.y,\n            width = _ref3.width,\n            height = _ref3.height;\n        return React.createElement(animated.div, {\n          style: _extends({}, styles.cell, {\n            opacity: opacity,\n            width: width,\n            height: height,\n            zIndex: lastOpen === key || open === key ? 1000 : i,\n            transform: interpolate([x, y], function (x, y) {\n              return \"translate3d(\" + x + \"px,\" + y + \"px, 0)\";\n            })\n          }),\n          children: _this.props.children(object, open === key, function () {\n            return _this.toggle(key);\n          })\n        });\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = Grid.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.clicked = false;\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        _this$props$columns = _this$props.columns,\n        columns = _this$props$columns === void 0 ? 3 : _this$props$columns,\n        _this$props$margin = _this$props.margin,\n        margin = _this$props$margin === void 0 ? 0 : _this$props$margin,\n        _this$props$occupySpa = _this$props.occupySpace,\n        occupySpace = _this$props$occupySpa === void 0 ? true : _this$props$occupySpa,\n        _this$props$lockScrol = _this$props.lockScroll,\n        lockScroll = _this$props$lockScrol === void 0 ? false : _this$props$lockScrol,\n        _this$props$closeDela = _this$props.closeDelay,\n        closeDelay = _this$props$closeDela === void 0 ? 0 : _this$props$closeDela,\n        _this$props$transitio = _this$props.transitionMount,\n        children = _this$props.children,\n        impl = _this$props.impl,\n        config = _this$props.config,\n        data = _this$props.data,\n        keys = _this$props.keys,\n        heights = _this$props.heights,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"columns\", \"margin\", \"occupySpace\", \"lockScroll\", \"closeDelay\", \"transitionMount\", \"children\", \"impl\", \"config\", \"data\", \"keys\", \"heights\"]);\n\n    var _this$state = this.state,\n        lastOpen = _this$state.lastOpen,\n        open = _this$state.open,\n        height = _this$state.height,\n        width = _this$state.width,\n        widthOuter = _this$state.widthOuter,\n        heightOuter = _this$state.heightOuter;\n    var column = 0;\n    var columnHeights = new Array(columns).fill(0);\n    var displayData = data.map(function (child, i) {\n      var index = occupySpace ? columnHeights.indexOf(Math.min.apply(Math, columnHeights)) : column++ % columns;\n      var cellWidth = width / columns - margin / (1 - 1 / (columns + 1));\n      var left = cellWidth * index;\n      var offset = (index + 1) * margin;\n      var top = columnHeights[index] + margin;\n      var cellHeight = typeof heights === 'function' ? heights(child) : heights || heightOuter - margin * 2;\n      columnHeights[index] += cellHeight + margin;\n      return {\n        x: margin ? left + offset : left,\n        y: top,\n        width: cellWidth,\n        height: cellHeight,\n        key: keys(child, i),\n        object: child\n      };\n    });\n    var overflow = lockScroll ? open ? 'hidden' : 'auto' : 'auto';\n    var totalHeight = Math.max.apply(Math, columnHeights) + margin;\n    return React.createElement(Measure, {\n      client: true,\n      innerRef: function innerRef(r) {\n        return _this2.outerRef = r;\n      },\n      onResize: this.resizeOuter\n    }, function (_ref4) {\n      var measureRef = _ref4.measureRef;\n      return React.createElement(\"div\", _extends({\n        ref: measureRef,\n        style: _extends({}, styles.outer, _this2.props.style, {\n          overflow: overflow\n        })\n      }, rest, {\n        onScroll: _this2.scrollOut,\n        onWheel: _this2.scrollOut,\n        onTouchMove: _this2.scrollOut\n      }), React.createElement(Measure, {\n        client: true,\n        innerRef: function innerRef(r) {\n          return _this2.innerRef = r;\n        },\n        onResize: _this2.resizeInner\n      }, function (_ref5) {\n        var measureRef = _ref5.measureRef;\n        return React.createElement(\"div\", {\n          ref: measureRef,\n          style: _extends({}, styles.inner, {\n            height: totalHeight\n          })\n        }, React.createElement(Transition, {\n          native: true,\n          delay: _this2.clicked && !open ? closeDelay : 0,\n          items: displayData,\n          keys: function keys(d) {\n            return d.key;\n          },\n          from: {\n            opacity: 0\n          },\n          leave: {\n            opacity: 0\n          },\n          enter: _this2.update,\n          update: _this2.update,\n          impl: impl,\n          config: config,\n          lastOpen: lastOpen,\n          open: open,\n          children: displayData.map(_this2.cell)\n        }));\n      }));\n    });\n  };\n\n  return Grid;\n}(React.PureComponent);\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  data: PropTypes.array,\n  keys: PropTypes.func,\n  occupySpace: PropTypes.bool,\n  columns: PropTypes.number,\n  margin: PropTypes.number,\n  heights:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  lockScroll: PropTypes.bool,\n  closeDelay: PropTypes.number,\n  transitionMount: PropTypes.bool\n} : void 0;\n\nvar wrap = function wrap(child, styles) {\n  styles = _extends({\n    willChange: Object.keys(styles).join(',')\n  }, styles);\n\n  if (!animated[child.type]) {\n    // Wrap components into animated divs\n    return React.createElement(animated.div, {\n      style: _extends({}, styles)\n    }, child);\n  } else {\n    // Otherwise inject styles into existing component-props\n    var Component = animated[child.type];\n\n    var props = _extends({}, child.props, {\n      style: _extends({}, child.props.style, styles)\n    });\n\n    return React.createElement(Component, props);\n  }\n}; // Wrapper around react-springs Trail component.\n// It will make each child (which must be a dom node) fade and trail in.\n\n\nvar Slug =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inheritsLoose(Slug, _React$PureComponent2);\n\n  function Slug() {\n    return _React$PureComponent2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = Slug.prototype;\n\n  _proto2.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        _this$props2$from = _this$props2.from,\n        from = _this$props2$from === void 0 ? {\n      opacity: 0,\n      transform: 'translate3d(0,40px,0)'\n    } : _this$props2$from,\n        _this$props2$to = _this$props2.to,\n        to = _this$props2$to === void 0 ? {\n      opacity: 1,\n      transform: 'translate3d(0,0px,0)'\n    } : _this$props2$to,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"from\", \"to\"]);\n\n    var result = React.Children.map(children, function (child) {\n      return function (styles) {\n        return wrap(child, styles);\n      };\n    });\n    return React.createElement(Trail, _extends({\n      native: true\n    }, rest, {\n      keys: result.map(function (_, i) {\n        return i;\n      }),\n      from: from,\n      to: to,\n      children: result\n    }));\n  };\n\n  return Slug;\n}(React.PureComponent); // Wrapper around react-springs Transition.\n// It will Transition the child node in and out depending on the \"show\" prop.\n\nprocess.env.NODE_ENV !== \"production\" ? Slug.propTypes = {\n  from:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  to:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n} : void 0;\nvar Fade =\n/*#__PURE__*/\nfunction (_React$PureComponent3) {\n  _inheritsLoose(Fade, _React$PureComponent3);\n\n  function Fade() {\n    return _React$PureComponent3.apply(this, arguments) || this;\n  }\n\n  var _proto3 = Fade.prototype;\n\n  _proto3.render = function render() {\n    var _this$props3 = this.props,\n        children = _this$props3.children,\n        _this$props3$show = _this$props3.show,\n        show = _this$props3$show === void 0 ? true : _this$props3$show,\n        _this$props3$from = _this$props3.from,\n        from = _this$props3$from === void 0 ? {\n      opacity: 0\n    } : _this$props3$from,\n        _this$props3$enter = _this$props3.enter,\n        enter = _this$props3$enter === void 0 ? {\n      opacity: 1\n    } : _this$props3$enter,\n        _this$props3$leave = _this$props3.leave,\n        leave = _this$props3$leave === void 0 ? {\n      opacity: 0\n    } : _this$props3$leave,\n        rest = _objectWithoutPropertiesLoose(_this$props3, [\"children\", \"show\", \"from\", \"enter\", \"leave\"]);\n\n    var result = function result(styles) {\n      return wrap(children, styles);\n    };\n\n    return React.createElement(Transition, _extends({\n      native: true,\n      keys: show.toString()\n    }, rest, {\n      from: from,\n      enter: enter,\n      leave: leave,\n      children: show ? result : undefined\n    }));\n  };\n\n  return Fade;\n}(React.PureComponent);\nprocess.env.NODE_ENV !== \"production\" ? Fade.propTypes = {\n  children: PropTypes.node.isRequired,\n  show: PropTypes.bool,\n  from:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  enter:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  leave:\n  /*#__PURE__*/\n  PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n} : void 0;\n\nexport { Grid, Slug, Fade };\n"]},"metadata":{},"sourceType":"module"}