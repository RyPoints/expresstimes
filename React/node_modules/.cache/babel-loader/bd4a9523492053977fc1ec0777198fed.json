{"ast":null,"code":"'use strict';\n\nconst Promise = require('../../promise');\n\nfunction ResourceLock(resource) {\n  this.resource = resource;\n  this.previous = Promise.resolve(resource);\n}\n\nResourceLock.prototype.unwrap = function () {\n  return this.resource;\n};\n\nResourceLock.prototype.lock = function () {\n  const lock = this.previous;\n  let resolve;\n  this.previous = new Promise(r => {\n    resolve = r;\n  });\n  return lock.disposer(resolve);\n};\n\nmodule.exports = ResourceLock;","map":{"version":3,"sources":["/Users/ryandavis/Development/reactapp/expresstimes/node_modules/sequelize/lib/dialects/mssql/resource-lock.js"],"names":["Promise","require","ResourceLock","resource","previous","resolve","prototype","unwrap","lock","r","disposer","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB;;AAEA,SAASC,YAAT,CAAsBC,QAAtB,EAAgC;AAC9B,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKC,QAAL,GAAgBJ,OAAO,CAACK,OAAR,CAAgBF,QAAhB,CAAhB;AACD;;AAEDD,YAAY,CAACI,SAAb,CAAuBC,MAAvB,GAAgC,YAAW;AACzC,SAAO,KAAKJ,QAAZ;AACD,CAFD;;AAIAD,YAAY,CAACI,SAAb,CAAuBE,IAAvB,GAA8B,YAAW;AACvC,QAAMA,IAAI,GAAG,KAAKJ,QAAlB;AACA,MAAIC,OAAJ;AAEA,OAAKD,QAAL,GAAgB,IAAIJ,OAAJ,CAAYS,CAAC,IAAI;AAC/BJ,IAAAA,OAAO,GAAGI,CAAV;AACD,GAFe,CAAhB;AAIA,SAAOD,IAAI,CAACE,QAAL,CAAcL,OAAd,CAAP;AACD,CATD;;AAWAM,MAAM,CAACC,OAAP,GAAiBV,YAAjB","sourcesContent":["'use strict';\n\nconst Promise = require('../../promise');\n\nfunction ResourceLock(resource) {\n  this.resource = resource;\n  this.previous = Promise.resolve(resource);\n}\n\nResourceLock.prototype.unwrap = function() {\n  return this.resource;\n};\n\nResourceLock.prototype.lock = function() {\n  const lock = this.previous;\n  let resolve;\n\n  this.previous = new Promise(r => {\n    resolve = r;\n  });\n\n  return lock.disposer(resolve);\n};\n\nmodule.exports = ResourceLock;\n"]},"metadata":{},"sourceType":"script"}